package com.treeze.data.images;import java.awt.Color;import java.awt.Container;import java.awt.Graphics2D;import java.awt.Image;import java.awt.MediaTracker;import java.awt.RenderingHints;import java.awt.Toolkit;import java.awt.image.BufferedImage;import java.io.BufferedOutputStream;import java.io.File;import java.io.FileOutputStream;import com.multiconn.fop.codec.JPEGCodec;import com.multiconn.fop.codec.JPEGEncodeParam;import com.multiconn.fop.codec.JPEGImageEncoder;public class MakeImg {//	public static String makeThumbnailImage(File originalFile, String uploadPath, String newFileName, int newWidth, int newHeight, int quality, boolean isHeightResize, boolean isFillSpace) throws Exception {//	       //	       String thumbFileName = "";//	       //	       if(originalFile != null && originalFile.getName() != null) {////	           System.setProperty("java.awt.headless", "true");////	           Image image = Toolkit.getDefaultToolkit().getImage(uploadPath + originalFile.getName());//	           MediaTracker mt = new MediaTracker(new Container());//	           mt.addImage(image, 0);//	           mt.waitForID(0);////	           int imageWidth = image.getWidth(null);//	           int imageHeight = image.getHeight(null);//	           //	           int thumbWidth = imageWidth;//	           int thumbHeight = imageHeight;//	           //	           if(imageWidth > newWidth) {//	               thumbWidth = newWidth;//	               thumbHeight = (int)(imageHeight * ((double)newWidth / (double)imageWidth));//	           } //	           //	           if(isHeightResize && thumbHeight > newHeight) {//	               thumbWidth = (int)(thumbWidth * ((double)newHeight / (double)thumbHeight));//	               thumbHeight = newHeight;//	           }////	           int canvasWidth = thumbWidth;//	           int canvasHeight = thumbHeight;//	           int canvasX = 0;//	           int canvasY = 0;//	           //	           if(isFillSpace) {//	               canvasWidth = newWidth;//	               canvasHeight = newHeight;//	               canvasX = (canvasWidth - thumbWidth) / 2;//	               canvasY = (canvasHeight - thumbHeight) / 2;//	           }////	           /* 사이즈 확인용//	           System.out.println("newWidth :" + newWidth);//	           System.out.println("newHeight :" + newHeight);//	           System.out.println("imageWidth :" + imageWidth);//	           System.out.println("imageHeight :" + imageHeight);           //	           System.out.println("thumbWidth :" + thumbWidth);//	           System.out.println("thumbHeight :" + thumbHeight);//	           System.out.println("canvasWidth :" + canvasWidth);//	           System.out.println("canvasHeight :" + canvasHeight);//	           System.out.println("canvasX :" + canvasX);//	           System.out.println("canvasY :" + canvasY);//	           */////	           BufferedImage thumbImage = new BufferedImage(canvasWidth, canvasHeight, BufferedImage.TYPE_INT_RGB);////	           Graphics2D graphics2D = thumbImage.createGraphics();//	           graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);//	           graphics2D.setBackground(Color.WHITE);//	           graphics2D.clearRect(0, 0, canvasWidth, canvasHeight);//	           graphics2D.drawImage(image, canvasX, canvasY, thumbWidth, thumbHeight, null);////	           BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(uploadPath + newFileName + ".jpg"));//	           JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(bos);//	           JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(thumbImage);//	           quality = Math.max(0, Math.min(quality, 100));//	           param.setQuality((float)quality / 100.0f, false);//	           encoder.setJPEGEncodeParam(param);//	           encoder.encode(thumbImage);//	           bos.close();//	           //	           thumbFileName = newFileName + ".jpg";//	       }//	       //	       return thumbFileName;//	   }}